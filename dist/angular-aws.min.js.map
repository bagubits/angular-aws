{"version":3,"sources":["angular-aws.js"],"names":["angularAWS","angular","module","provider","this","MFARequired","poolData","identityPoolId","cognitoLoginId","userAttributes","region","SESSource","setRegion","AWSCognito","config","AWS","$get","service","$AWS","self","cognitoUser","userPool","CognitoIdentityServiceProvider","CognitoUserPool","cognitoUserdata","name","pass","attributelist","Array","cognitoAttributeList","credentials","initialize","userName","userPassword","attributeList","register","cb","forEach","value","key","userAttribute","CognitoUserAttribute","push","signUp","err","result","user","validate","confirmationCode","CognitoUser","Username","Pool","confirmRegistration","authenticate","authenticationDetails","AuthenticationDetails","Password","authenticateUser","onSuccess","Logins","getIdToken","getJwtToken","setCredentials","mfaRequired","session","onFailure","unauthenticatedCredentials","CognitoIdentityCredentials","IdentityPoolId","get","accessKeyId","secretAccessKey","sessionToken","getCredentials","signOut","globalSignOut","getSession","getCurrentUser","console","error","update","getUserAttributes","username","guid","s4","Math","floor","random","toString","substring","db","read","data","DynamoDB","getItem","getguid","write","table","datawrapped","DynamoDbDataTypes","AttributeValue","wrap","elem","TableName","Item","putItem","scan","params","docClient","DocumentClient","invoke","functionname","lambda","Lambda","FunctionName","LogType","Payload","JSON","stringify","upload","bucket","file","S3","Bucket","Key","ContentType","type","Body","ACL","sendEmail","recipient","object","msg","ses","SES","Destination","ToAddresses","Message","Text","Data","Charset","Subject","Source","stack"],"mappings":"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","file":"angular-aws.min.js"}